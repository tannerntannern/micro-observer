if("undefined"===typeof exports)var exports=window;Object.defineProperty(exports,"__esModule",{value:!0});function getPath(c,a){return 0!==c.length?c+"."+a:a}
exports.Observer=function(){function c(a,e,f,k){var h={};return new Proxy(a,{get:function(g,b){if("__target"===b)return g;if("__isProxy"===b)return!0;var d=g[b];if("function"===typeof d)return function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];if(e({path:f,property:k,target:g,type:"function-call",function:b,arguments:a}))return d.apply(this.__isProxy?this.__target:this,a)};if("object"===typeof d&&null!==d&&g.hasOwnProperty(b)){var a=h[b];if(a&&a.__target===d)return a;a=c(d,e,getPath(f,
b),b);return h[b]=a}return d},set:function(a,b,c){e({path:getPath(f,b),target:a,type:"set-prop",property:b,newValue:c})&&(a[b]=c);return!0},deleteProperty:function(a,b){e({path:getPath(f,b),target:a,type:"delete-prop",property:b,newValue:null})&&delete a[b];return!0}})}return{create:function(a,e){return c(a,e,"","")}}}();